# 变更日志

本文档记录了题库管理系统 (TikuLocal) 的所有重要变更。

## [1.2.5] - 2024-12-27

### 🔄 修复
- **删除功能优化**: 修复删除后无法重新导入相同问题
- **软删除支持**: 支持软删除和硬删除选项
- **自动恢复**: 删除的题目重新导入时自动恢复

### ✨ 新增
- **数据管理**: 完善的数据管理功能
- **删除类型选择**: 单个删除和批量清空都支持软删除/硬删除
- **智能重复检测**: 导入时自动检测并恢复已删除的重复题目

### 🛠️ 技术改进
- 优化数据库查询逻辑，使用 `Unscoped()` 查询所有记录
- 改进事务处理，提高批量操作效率
- 增强错误处理和用户反馈

## [1.2.4] - 2024-12-26

### 🔤 新增
- **中文字体支持**: 完整的中文字体支持，解决显示问题
- **自定义主题**: 创建自定义主题支持中文字体
- **多级加载**: 本地字体、系统字体、默认字体的多级加载策略

### 🛡️ 改进
- **错误处理**: 完善的字体加载错误处理机制
- **日志记录**: 详细的字体加载状态日志记录
- **跨平台**: 支持Windows、macOS、Linux系统字体

### 📝 文档
- 添加字体配置说明文档
- 完善字体功能测试指南

## [1.2.3] - 2024-12-25

### 🎨 界面优化
- **题目显示优化**: 全新的直观高效题目显示格式
- **题型图标**: 为不同题型添加专属图标标识
- **引用格式**: 题目内容使用引用格式突出显示
- **答案高亮**: 答案使用代码格式高亮显示

### 🎯 视觉改进
- **层次结构**: 更清晰的层次结构
- **美观分隔**: 使用美观的分隔线提升视觉效果
- **紧凑布局**: 更紧凑的统计信息显示格式

### 📊 功能改进
- **自动换行**: 长文本自动换行，提高可读性
- **文本清理**: 自动清理多余空白字符
- **统一风格**: 所有显示区域使用相同分隔线

## [1.2.2] - 2024-12-24

### 🔧 修复
- **拖放功能**: 使用Fyne的正确`SetOnDropped`API
- **API升级**: 升级到Fyne 2.4+的官方拖放接口

### 📚 文档
- **技术文档**: 添加详细的拖放功能修复说明
- **测试指南**: 完善拖放功能测试文档

### ✅ 验证
- **功能验证**: 确保拖放功能在所有平台正常工作
- **跨平台**: 支持Windows、macOS、Linux系统

## [1.2.1] - 2024-12-23

### ✨ 功能改进
- **拖放功能**: 修复并优化文件拖放功能
- **文件验证**: 增强文件格式验证机制
- **错误处理**: 改进错误处理和用户反馈

### 📱 用户体验
- **拖放体验**: 优化拖放用户体验
- **跨平台**: 支持跨平台文件拖放
- **即时反馈**: 拖放成功后立即显示文件名

## [1.2.0] - 2024-12-22

### 🎨 界面全面优化
- **现代化UI**: 采用图标和emoji增强视觉效果
- **响应式布局**: 优化窗口尺寸和组件布局
- **状态反馈**: 清晰的操作状态提示和错误处理

### 📊 功能增强
- **统计信息**: 实时显示题库统计数据和题型分布
- **便捷操作**: 添加刷新和清空搜索等快捷按钮
- **分页导航**: 改进的分页控件和页面跳转功能

### 🔧 技术改进
- **代码结构**: 优化代码结构和组织
- **性能优化**: 提升数据库查询和内存使用效率
- **错误处理**: 统一的错误提示和处理机制

## [1.1.0] - 2024-12-21

### 🔍 搜索功能
- **模糊搜索**: 基于题目内容的模糊搜索
- **分页显示**: 搜索结果分页显示
- **实时统计**: 搜索结果的实时统计

### 📄 文档解析
- **DOCX支持**: 支持Microsoft Word文档解析
- **多题型**: 支持单选题、多选题、判断题等
- **智能提取**: 自动提取题目、选项和答案

## [1.0.0] - 2024-12-20

### 🚀 初始版本
- **基础功能**: DOCX文档解析
- **数据存储**: SQLite数据库存储
- **Web API**: RESTful API接口
- **GUI界面**: 基于Fyne的图形界面

### 📋 核心特性
- **题目解析**: 自动解析Word文档中的题目
- **题目搜索**: 基于内容的搜索功能
- **本地存储**: 使用SQLite数据库
- **API服务**: 提供Web API接口

---

## 版本说明

- **主版本号**: 重大功能变更或架构调整
- **次版本号**: 新功能添加或重要改进
- **修订版本号**: Bug修复和小幅改进

## 贡献指南

如果您想为项目做出贡献，请：

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。 